<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/static/css/logo.css">
    <script defer src="/static/js/logo.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self Details</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/health_history.css">
    <style>
        /* Disease Duration Styles */
        .disease-duration-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 10px;
        }
        .disease-duration-row {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        .disease-duration-row label {
            font-size: 0.9em;
            color: #555;
            min-width: 80px;
        }
        .disease-duration-row select,
        .disease-duration-row input[type="number"] {
            padding: 6px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.95em;
            width: 100px;
        }
        .disease-duration-row select:focus,
        .disease-duration-row input[type="number"]:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0,123,255,0.15);
        }
        .disease-duration-row .or-text {
            color: #888;
            font-style: italic;
            font-size: 0.85em;
        }
        .disease-duration-row .years-suffix {
            color: #555;
            font-size: 0.9em;
        }
        .disease-since-year.input-error,
        .disease-since-years.input-error {
            border-color: #dc3545;
        }
    </style>
</head>
<body>
    <form id="health-history-form" novalidate>
        <fieldset>
            <fieldset>
                <legend>Medical History & Lifestyle</legend>
                <fieldset class="sub-fieldset">
                    <legend>Disease Details</legend>
                    <div class="group-box" id="disease-list-group">
                        <div id="disease-list">
                            <!-- Cardiac Problems -->
                            <div class="disease-entry">
                                <div class="disease-header">
                                    <label class="checkbox-container">
                                        <input type="checkbox" name="disease" value="cardiac">
                                        Cardiac Problems
                                    </label>
                                </div>
                                <div class="disease-details-container">
                                    <div class="disease-duration-group">
                                        <div class="disease-duration-row">
                                            <label for="cardiac_since_year">Since Year *</label>
                                            <select id="cardiac_since_year" name="cardiac_since_year" class="disease-since-year" disabled>
                                                <option value="">Select Year</option>
                                            </select>
                                            <span class="or-text">OR</span>
                                            <label for="cardiac_since_years">Since</label>
                                            <input type="number" id="cardiac_since_years" name="cardiac_since_years" class="disease-since-years" min="0" max="100" placeholder="0" disabled>
                                            <span class="years-suffix">years</span>
                                        </div>
                                        <span class="error-message" id="cardiac_since-error"></span>
                                    </div>
                                    <textarea name="cardiac_details" placeholder="Provide more details..." rows="2" pattern="^[a-zA-Z0-9\s.,'()-]*$" title="Please enter only letters, numbers, and common punctuation." disabled></textarea>
                                </div>
                            </div>

                            <!-- Diabetes -->
                            <div class="disease-entry">
                                <div class="disease-header">
                                    <label class="checkbox-container">
                                        <input type="checkbox" name="disease" value="diabetes">
                                        Diabetes
                                    </label>
                                </div>
                                <div class="disease-details-container">
                                    <div class="disease-duration-group">
                                        <div class="disease-duration-row">
                                            <label for="diabetes_since_year">Since Year *</label>
                                            <select id="diabetes_since_year" name="diabetes_since_year" class="disease-since-year" disabled>
                                                <option value="">Select Year</option>
                                            </select>
                                            <span class="or-text">OR</span>
                                            <label for="diabetes_since_years">Since</label>
                                            <input type="number" id="diabetes_since_years" name="diabetes_since_years" class="disease-since-years" min="0" max="100" placeholder="0" disabled>
                                            <span class="years-suffix">years</span>
                                        </div>
                                        <span class="error-message" id="diabetes_since-error"></span>
                                    </div>
                                    <textarea name="diabetes_details" placeholder="Provide more details..." rows="2" pattern="^[a-zA-Z0-9\s.,'()-]*$" title="Please enter only letters, numbers, and common punctuation." disabled></textarea>
                                </div>
                            </div>

                            <!-- Hypertension -->
                            <div class="disease-entry">
                                <div class="disease-header">
                                    <label class="checkbox-container">
                                        <input type="checkbox" name="disease" value="hypertension">
                                        Hypertension
                                    </label>
                                </div>
                                <div class="disease-details-container">
                                    <div class="disease-duration-group">
                                        <div class="disease-duration-row">
                                            <label for="hypertension_since_year">Since Year *</label>
                                            <select id="hypertension_since_year" name="hypertension_since_year" class="disease-since-year" disabled>
                                                <option value="">Select Year</option>
                                            </select>
                                            <span class="or-text">OR</span>
                                            <label for="hypertension_since_years">Since</label>
                                            <input type="number" id="hypertension_since_years" name="hypertension_since_years" class="disease-since-years" min="0" max="100" placeholder="0" disabled>
                                            <span class="years-suffix">years</span>
                                        </div>
                                        <span class="error-message" id="hypertension_since-error"></span>
                                    </div>
                                    <textarea name="hypertension_details" placeholder="Provide more details..." rows="2" pattern="^[a-zA-Z0-9\s.,'()-]*$" title="Please enter only letters, numbers, and common punctuation." disabled></textarea>
                                </div>
                            </div>

                            <!-- Cancer -->
                            <div class="disease-entry">
                                <div class="disease-header">
                                    <label class="checkbox-container">
                                        <input type="checkbox" name="disease" value="cancer">
                                        Cancer
                                    </label>
                                </div>
                                <div class="disease-details-container">
                                    <div class="disease-duration-group">
                                        <div class="disease-duration-row">
                                            <label for="cancer_since_year">Since Year *</label>
                                            <select id="cancer_since_year" name="cancer_since_year" class="disease-since-year" disabled>
                                                <option value="">Select Year</option>
                                            </select>
                                            <span class="or-text">OR</span>
                                            <label for="cancer_since_years">Since</label>
                                            <input type="number" id="cancer_since_years" name="cancer_since_years" class="disease-since-years" min="0" max="100" placeholder="0" disabled>
                                            <span class="years-suffix">years</span>
                                        </div>
                                        <span class="error-message" id="cancer_since-error"></span>
                                    </div>
                                    <textarea name="cancer_details" placeholder="Provide more details..." rows="2" pattern="^[a-zA-Z0-9\s.,'()-]*$" title="Please enter only letters, numbers, and common punctuation." disabled></textarea>
                                </div>
                            </div>

                            <!-- Critical Illnesses -->
                            <div class="disease-entry">
                                <div class="disease-header">
                                    <label class="checkbox-container">
                                        <input type="checkbox" name="disease" value="critical_illness">
                                        Critical Illnesses
                                    </label>
                                </div>
                                <div class="disease-details-container">
                                    <div class="disease-duration-group">
                                        <div class="disease-duration-row">
                                            <label for="critical_illness_since_year">Since Year *</label>
                                            <select id="critical_illness_since_year" name="critical_illness_since_year" class="disease-since-year" disabled>
                                                <option value="">Select Year</option>
                                            </select>
                                            <span class="or-text">OR</span>
                                            <label for="critical_illness_since_years">Since</label>
                                            <input type="number" id="critical_illness_since_years" name="critical_illness_since_years" class="disease-since-years" min="0" max="100" placeholder="0" disabled>
                                            <span class="years-suffix">years</span>
                                        </div>
                                        <span class="error-message" id="critical_illness_since-error"></span>
                                    </div>
                                    <textarea name="critical_illness_details" placeholder="Provide more details..." rows="2" pattern="^[a-zA-Z0-9\s.,'()-]*$" title="Please enter only letters, numbers, and common punctuation." disabled></textarea>
                                </div>
                            </div>

                            <!-- Other -->
                            <div class="disease-entry">
                                <div class="disease-header">
                                    <label class="checkbox-container">
                                        <input type="checkbox" name="disease" value="other">
                                        Other
                                    </label>
                                </div>
                                <div class="disease-details-container">
                                    <div class="disease-duration-group">
                                        <div class="disease-duration-row">
                                            <label for="other_since_year">Since Year *</label>
                                            <select id="other_since_year" name="other_since_year" class="disease-since-year" disabled>
                                                <option value="">Select Year</option>
                                            </select>
                                            <span class="or-text">OR</span>
                                            <label for="other_since_years">Since</label>
                                            <input type="number" id="other_since_years" name="other_since_years" class="disease-since-years" min="0" max="100" placeholder="0" disabled>
                                            <span class="years-suffix">years</span>
                                        </div>
                                        <span class="error-message" id="other_since-error"></span>
                                    </div>
                                    <textarea name="other_details" placeholder="Please specify and provide details..." rows="2" pattern="^[a-zA-Z0-9\s.,'()-]*$" title="Please enter only letters, numbers, and common punctuation." disabled></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>

                <div class="group-box">
                <div class="form-row">
                    <div class="form-group span-2">
                        <label for="planned-surgeries">Any Planned Surgeries/Hospitalization?</label>
                        <textarea id="planned-surgeries" name="planned-surgeries" rows="2"></textarea>
                    </div>
                </div>
                </div>

                <div class="group-box">
                <div class="group-title">Lifestyle Risk</div>
                <div class="form-row">
                    <div class="form-group">
                        <fieldset>
                            <legend>Smoker:</legend>
                        <div class="radio-group">
                            <label class="radio-label"><input type="radio" name="smoker" value="yes"> Yes</label>
                            <label class="radio-label"><input type="radio" name="smoker" value="no" checked> No</label>
                        </div>
                        </fieldset>
                    </div>
                    <div class="form-group">
                        <fieldset>
                            <legend>Alcohol Consumption:</legend>
                        <div class="radio-group">
                            <label class="radio-label"><input type="radio" name="alcohol" value="yes"> Yes</label>
                            <label class="radio-label"><input type="radio" name="alcohol" value="no" checked> No</label>
                        </div>
                        </fieldset>
                    </div>
                    <div class="form-group">
                        <fieldset>
                            <legend>Risky Hobbies (adventure sports, etc.)</legend>
                        <div class="radio-group">
                            <label class="radio-label"><input type="radio" name="risky-hobbies" value="yes"> Yes</label>
                            <label class="radio-label"><input type="radio" name="risky-hobbies" value="no" checked> No</label>
                        </div>
                        </fieldset>
                    </div>
                </div>

                <hr class="group-sep"/>

                <div class="group-title">Occupational Risk</div>
                <div class="form-row">
                    <div class="form-group">
                        <fieldset>
                            <legend>Exposed to hazardous occupation?</legend>
                        <div id="health-history-occupational-risk">
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="occupational-risk" value="yes"> Yes
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="occupational-risk" value="no" checked> No
                                </label>
                            </div>
                        </div>
                        </fieldset>
                    </div>
                    <div class="form-group span-2" id="occupational-risk-details-group" style="display:none;">
                        <label for="occupational-risk-details">If yes, describe (e.g., mining, high-altitude, chemicals, heavy machinery)</label>
                        <textarea id="occupational-risk-details" name="occupational-risk-details" rows="2"></textarea>
                    </div>
                </div>
                </div>
            </fieldset>
        </fieldset>
    </form>

    <script src="/static/js/disease_details.js"></script>

</body>
</html>
